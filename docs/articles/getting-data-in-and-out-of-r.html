<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting data in and out of R • analyzr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting data in and out of R">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">analyzr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/WFU-TLC/analyzr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Getting data in and out of R</h1>
                        <h4 class="author">Jerid Francom</h4>
            
            <h4 class="date">2019-05-06</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/WFU-TLC/analyzr/blob/master/vignettes/getting-data-in-and-out-of-r.Rmd"><code>vignettes/getting-data-in-and-out-of-r.Rmd</code></a></small>
      <div class="hidden name"><code>getting-data-in-and-out-of-r.Rmd</code></div>

    </div>

    
    
<div id="importing-data" class="section level1">
<h1 class="hasAnchor">
<a href="#importing-data" class="anchor"></a>Importing data</h1>
<p>The <strong>format</strong> and the <strong>location</strong> of the data are the two primary issues to consider when working to import data into R. On the format side, there are various types of formats that data can be in but they break down into two main classes: proprietary (such as SPSS (<code>.sav</code>), STATA (<code>.dta</code>), Excel (<code>.xlsx</code>), etc.) and open formats (such as comma-separated values (<code>.csv</code>), XML (<code>.xml</code>), etc.). The location of the data can be on your local machine or accessible via URL, as long as you have an internet connection during the download process R won’t care where the data is located.</p>
<p>There are a number of R packages that have been written and contributed by R community members for reading (and writing) various data formats. In this vignette I will introduce a sort of meta package that serves as a Swiss-Army knife for data import and export: <code>rio</code> <span class="citation">(Chan &amp; Leeper, <a href="#ref-R-rio" role="doc-biblioref">2018</a>)</span>. Under the hood, however, are a number of great packages that you can read more about on the <a href="https://cran.r-project.org/web/packages/rio/vignettes/rio.html"><code>rio</code> package vignette page</a>.</p>
<p>Let’s load the key packages we are going to use:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tidyverse) <span class="co"># core packages </span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="co">#&gt; ── Attaching packages ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── tidyverse 1.2.1 ──</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">#&gt; ✔ ggplot2 3.1.1       ✔ purrr   0.3.2  </span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">#&gt; ✔ tibble  2.1.1       ✔ dplyr   0.8.0.1</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co">#&gt; ✔ tidyr   0.8.3       ✔ stringr 1.4.0  </span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="co">#&gt; ✔ readr   1.3.1       ✔ forcats 0.4.0</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co">#&gt; ── Conflicts ──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── tidyverse_conflicts() ──</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="co">#&gt; ✖ dplyr::filter() masks stats::filter()</span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="co">#&gt; ✖ dplyr::lag()    masks stats::lag()</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(rio) <span class="co"># import/export </span></a></code></pre></div>
<p>Let’s start by reading in some data from a URL with <code><a href="https://www.rdocumentation.org/packages/rio/topics/import">rio::import()</a></code> and take a quick look at the data with <code><a href="https://tibble.tidyverse.org/reference/glimpse.html">tibble::glimpse()</a></code>. Note we’ve provided an accessible web directory with datasets in various formats at this address: <a href="http://users.wfu.edu/dewittme/data/sample/">http://users.wfu.edu/dewittme/data/sample/</a></p>
<p>The first dataset is in SPSS format (<code>.sav</code>). It is from the Pew Research Center. More information on this dataset can be found here: <a href="http://users.wfu.edu/dewittme/data/sample/aug16_nr_public/readme.txt">http://users.wfu.edu/dewittme/data/sample/aug16_nr_public/readme.txt</a></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="co"># Pew Public Opinion data</span></a>
<a class="sourceLine" id="cb2-3" title="3"></a>
<a class="sourceLine" id="cb2-4" title="4">pew &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/rio/topics/import">import</a></span>(<span class="dt">file =</span> <span class="st">"http://users.wfu.edu/dewittme/data/sample/aug16_nr_public/Aug16_nr_public.sav"</span>)</a>
<a class="sourceLine" id="cb2-5" title="5"></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="kw">glimpse</span>(pew)</a></code></pre></div>
<p>Now let’s import a STATA file (<code>.dta</code>). More information on this dataset can be found here: <a href="http://www2.stat.duke.edu/~jerry/sta103/labs/lab8a.html">http://www2.stat.duke.edu/~jerry/sta103/labs/lab8a.html</a></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="co"># Sesame Street data</span></a>
<a class="sourceLine" id="cb3-2" title="2"></a>
<a class="sourceLine" id="cb3-3" title="3">sesame &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/rio/topics/import">import</a></span>(<span class="dt">file =</span> <span class="st">"http://users.wfu.edu/dewittme/data/sample/sesame.dta"</span>)</a>
<a class="sourceLine" id="cb3-4" title="4"></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="kw">glimpse</span>(sesame)</a></code></pre></div>
<!-- Note that an Excel file will often contain various 'sheets'. You will need to specify which of these sheets you would like to import.  -->
<hr>
<p>Local files, on the other hand, will need to specify a directory path. When you are working in R you need to keep in mind what the relative path is from the file doing the processing and the file that you want to read. To find out what R is currently considering the starting point, you can enter the following command in the Console.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/getwd">getwd</a></span>() <span class="co"># find the current working directory</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="co">#&gt; [1] "/Users/francojc/Documents/Academic/Research/Projects/1Active/WFU-TLC/analyzr/vignettes"</span></a></code></pre></div>
<p>When working in an RStudio Project, the starting path will, by default, be the directory main directory of the project. That is important to keep in mind when working with R Markdown files.</p>
</div>
<div id="exporting-data" class="section level1">
<h1 class="hasAnchor">
<a href="#exporting-data" class="anchor"></a>Exporting data</h1>
<p>After working with the data that your imported into R, you will want to save this data to disk. It is important to save this manipulated data as a different file and leave the original data as it was. This makes it a lot easier to understand what you did to the data and helps increase the reproducibility of the analysis that you conduct. Furthermore, it is often a good idea to save that data into a format that is open and more widely accessible that some of the other proprietary formats we’ve seen so far. A good choice is a delimited file format such as comma-separated values (<code>.csv</code>) files. <code>rio</code> being the multi-faceted package that it is makes it easy to export to various formats quite painlessly.</p>
<p>Let’s export our data.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/rio/topics/export">export</a></span>(pew, <span class="dt">file =</span> <span class="st">"~/Desktop/pew.csv"</span>)</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/rio/topics/export">export</a></span>(sesame, <span class="dt">file =</span> <span class="st">"~/Desktop/sesame.tsv"</span>)</a></code></pre></div>
<p>If you open these files in a text editor you can see the difference between these two delimited files.</p>
<p><img src="images/pew-csv.png" width="50%"></p>
<p><img src="images/sesame-tsv.png" width="50%"></p>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<div id="refs" class="references">
<div id="ref-R-rio">
<p>Chan, C.-h., &amp; Leeper, T. J. (2018). <em>Rio: A swiss-army knife for data i/o</em>. Retrieved from <a href="https://CRAN.R-project.org/package=rio">https://CRAN.R-project.org/package=rio</a></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#importing-data">Importing data</a></li>
      <li><a href="#exporting-data">Exporting data</a></li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Jerid Francom.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
